function getQueryParameter(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))}function browseInWechat(){return/MicroMessenger/i.test(navigator.userAgent)}function jumpTo(a){a.indexOf("http:")>-1?window.location.href=a:swiper0.swipeTo(a)}function trackScreen(a){var b=String.format("screen{0}",a+1);ga("send","event","MA8-mobile2",b,"slide")}function trackShare(a){ga("send","event","MA8-mobile2",a,"click")}function onBridgeReady(){WeixinJSBridge.call("showOptionMenu")}function buildWechatOpts(a){var b=data.share.wechat.title,c=data.share.wechat.descs,d=data.campaign_img+data.share.wechat.img,e=data.campaign_url;return"timeline"===a?{img_url:d,link:e,desc:c,title:c}:{img_url:d,link:e,desc:c,title:b}}function shareTimeline(){WeixinJSBridge.invoke("shareTimeline",buildWechatOpts("timeline"),function(a){"share_timeline:ok"===a.err_msg&&(hideModal(),alert("朋友圈"),trackShare("sharemoments"),_report("timeline",a.err_msg))})}function shareFriend(){WeixinJSBridge.invoke("sendAppMessage",buildWechatOpts("appmessage"),function(a){"send_app_msg:confirm"===a.err_msg&&(hideModal(),alert("朋友"),trackShare("sharefriend"),_report("send_msg",a.err_msg))})}function windowResized(){var a=$(window).width(),b=$(window).height();$("#swiper0").height(b).width(a),$("#swiper1").height(b).width(a);var c=String.format("{0}%",62.5*a/640);$("html").css("font-size",c)}function updateWidgets(a){0===a?($("#next").addClass("f-ann"),$("#grid1").show()):4===a?($("#next").addClass("f-ann"),$("#grid1").hide()):($("#grid1").hide(),$("#next").removeClass("f-ann"))}function extract_templates(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=b.JST["app/templates/"+d.template];$(d.node).html(e(d.data)),"templates"in d&&extract_templates(d.templates,b)}}var data={campaign_url:"http://ma8.qq.com/ec",campaign_img:"http://ma8.qq.com/ec",share:{wechat:{title:"男人醒醒吧！",descs:"别被倦容掩盖型男本色！立即入手醒神套装，唤醒型男身份！",img:"images/5a0787b6.share_mini_img.jpg"}},ec_url:"http://sale.jd.com/m/act/JgbSaUI247R.html",ec_url1:"http://sale.jd.com/m/act/JgbSaUI247R.html",ec_url2:"http://sale.jd.com/m/act/JgbSaUI247R.html",ec_url3:"http://sale.jd.com/m/act/JgbSaUI247R.html",templates:[{template:"slide0_0.hbs",node:"#slide0",data:{img0:"images/0cd6d5ff.slide0_img0.jpg",tit0:"images/985d2cf7.slide0_tit0.png",tit1:"images/5aa843c6.slide0_tit1.png",btn1:"images/b8951bac.slide0_btn1.png"}},{template:"slide0_1.hbs",node:"#slide1",data:{bg:"images/1377180d.slide1_bg.jpg",tit0:"images/4f44a77b.slide1_tit0.png",tit1:"images/8058b033.slide1_tit1.png",img1:"images/1cf955ca.slide1_img1.png",img2:"images/a4257cb9.slide1_img2.png",img3:"images/d5f53084.slide1_img3.png",img4:"images/a66ee179.slide1_img4.png",img5:"images/1d1b4b95.slide1_img5.png"}},{template:"slide0_2.hbs",node:"#slide2",data:{bg:"images/9715265d.slide2_bg.jpg",tit0:"images/75a267ba.slide2_tit0.png",tit1:"images/6e6eaef7.slide2_tit1.png",img0:"images/90ab6dbf.slide2_img0.png",img1:"images/9a5df375.slide2_img1.png",img2:"images/fdd79747.slide2_img2.png"}},{template:"slide0_3.hbs",node:"#slide3",data:{bg:"images/eb4d505d.slide3_bg.jpg",tit0:"images/d1875c7e.slide3_tit0.png",tit1:"images/e1b657cb.slide3_tit1.png",img0:"images/457377c1.slide3_img0.png",img1:"images/f7ce9db7.slide3_img1.png",img2:"images/e47ee440.slide3_img2.png",img3:"images/fdd79747.slide2_img2.png"}},{template:"slide0_4.hbs",node:"#slide4",data:{bg:"images/52f16a0a.slide1_bg.png",tit0:"images/5c12cc20.slide4_tit0.png",img0:"images/a556c83e.slide4_img0.png",img1:"images/00085dbb.slide4_img1.png",img2:"images/7ec340a8.slide4_img2.png",img3:"images/e0e41b4c.slide4_img3.png"}}]};String.format=function(a){if(0===arguments.length)return null;var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)},this.JST=this.JST||{},this.JST["app/templates/slide0_0.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="u-bg">\n    <div class="img0 fadeIn animated f-at2 f-ann"><img src="',(g=c.img0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="tits">\n        <div class="tit0 bounceInLeft animated f-ad1 f-ann"><img src="',(g=c.tit0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n        <div class="tit1 bounceInRight animated f-ad2 f-ann"><img src="',(g=c.tit1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    </div>\n    <div class="f-tk1 btn1 fadeInLeft animated f-ad4 f-ann" data-track="slide0btn0"><img src="',(g=c.btn1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.btn1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n</div>\n'}),this.JST["app/templates/slide0_1.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="u-bg">\n    <img src="',(g=c.bg)?f=g.call(b,{hash:{},data:e}):(g=b&&b.bg,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/>\n    <div class="img2 bigOut animated f-ann f-at8 f-ad9 f-to-rb f-anii f-tfeo"><img src="',(g=c.img2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img2 smallIn animated f-ann f-to-rb f-ad6"><img src="',(g=c.img2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="tit0 bounceInLeft animated f-ann"><img src="',(g=c.tit0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="tit1 bounceInRight animated f-ann f-ad1"><img src="',(g=c.tit1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img1"><img src="',(g=c.img1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img3 fadeInUp animated f-ann f-ad3 f-at5"><img src="',(g=c.img3)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img3,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img4 fadeInDown animated f-ann f-ad4 f-at7"><img src="',(g=c.img4)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img4,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/><img src="',(g=c.img5)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img5,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt="" data-track="slide1btn0"/></div>\n</div>\n'}),this.JST["app/templates/slide0_2.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="u-bg">\n    <img src="',(g=c.bg)?f=g.call(b,{hash:{},data:e}):(g=b&&b.bg,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/>\n    <div class="tit0 bounceInLeft animated f-ann"><img src="',(g=c.tit0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="tit1 bounceInRight animated f-ann f-ad1"><img src="',(g=c.tit1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img0 fadeInLeft animated f-ann f-at5 f-ad3"><img src="',(g=c.img0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img1 fadeInRight animated f-ann f-at3 f-ad4" data-track="slide2btn0"><img src="',(g=c.img1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img2 fadeInDown animated f-ann f-at5 f-ad6"><img src="',(g=c.img2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n</div>\n'}),this.JST["app/templates/slide0_3.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="u-bg">\n    <img src="',(g=c.bg)?f=g.call(b,{hash:{},data:e}):(g=b&&b.bg,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/>\n    <div class="tit0 bounceInLeft animated f-ann"><img src="',(g=c.tit0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="tit1 bounceInRight animated f-ann f-ad1"><img src="',(g=c.tit1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img0 bigOut animated f-ann f-at8 f-ad8 f-anii"><img src="',(g=c.img0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img0 fadeInLeft animated f-ann f-at5 f-ad3"><img src="',(g=c.img0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img1 fadeInLeft animated f-ann f-at5 f-ad3"><img src="',(g=c.img1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img2 fadeInRight animated f-ann f-at3 f-ad4" data-track="slide3btn0"><img src="',(g=c.img2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img3 fadeInDown animated f-ann f-at6 f-ad6"><img src="',(g=c.img3)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img3,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n</div>\n'}),this.JST["app/templates/slide0_4.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="u-bg">\n    <img src="',(g=c.bg)?f=g.call(b,{hash:{},data:e}):(g=b&&b.bg,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/>\n    <div class="tit0 bounceInLeft animated f-ann"><img src="',(g=c.tit0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.tit0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img0 fadeInLeft animated f-ann f-at3 f-ad2"><img src="',(g=c.img0)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img0,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n    <div class="img1 f-oh">\n        <div class="warp flipInY animated f-ann f-at5 f-ad4">\n            <img src="',(g=c.img1)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img1,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/>\n        </div>\n    </div>\n    <div class="img2 bounceInLeft animated f-ann f-at4 f-ad4" data-track="slide4btn0"><img src="',(g=c.img2)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img2,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/><img src="',(g=c.img3)?f=g.call(b,{hash:{},data:e}):(g=b&&b.img3,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt=""/></div>\n</div>\n'});var trackParams={widgetbt:{action:"product1-toec",value:"click",link:data.ec_url},slide0btn0:{action:"tonextpage",value:"click",link:"1"},slide1btn0:{action:"package1-toec",value:"click",link:data.ec_url1},slide2btn0:{action:"package2-toec",value:"click",link:data.ec_url2},slide3btn0:{action:"package3-toec",value:"click",link:data.ec_url3},slide4btn0:{action:"product2-toec",value:"click",link:data.ec_url}};$(function(){$("[data-track]").on("touchstart mousedown",function(a){a.preventDefault();var b=$(this).attr("data-track"),c=trackParams[b];ga("send","event","MA8-mobile2",c.action,c.value),"undefined"!=typeof c.link&&setTimeout(function(){jumpTo(c.link)},200)})}),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):onBridgeReady(),document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:timeline",function(){shareTimeline()}),WeixinJSBridge.on("menu:share:appmessage",function(){shareFriend()})});var swiper0;extract_templates(data.templates,this),$(function(){var a=0;windowResized(),$(window).resize(function(){windowResized()}),$(".g-bd").imagesLoaded().always(function(){$(".g-ld").addClass("f-dn"),$(".g-bd").removeClass("f-dn")}).progress(function(b){a++;var c=Math.round(100*a/b.images.length);$("#percentage").html(c)}),$("#logo").on("touchstart mousedown",function(){swiper0.swipeTo(0)}),swiper0=new Swiper("#swiper0",{mode:"vertical",hashNav:!0,onSwiperCreated:function(a){var b=a.activeSlide(),c=a.activeIndex;updateWidgets(c),$(b).find(".animated").not(".f-noa").removeClass("f-ann")},onSlideChangeEnd:function(a){var b=a.activeSlide(),c=a.activeIndex;updateWidgets(c),trackScreen(c),setTimeout(function(){$(a.getSlide(a.previousIndex)).find(".animated").addClass("f-ann"),$(b).find(".animated").removeClass("f-ann")},50)}})});